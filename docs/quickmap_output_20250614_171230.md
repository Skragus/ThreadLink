# üó∫Ô∏è QuickMap: ThreadLink/ (30 files detailed)

## üßπ Messiness Report
*Issues detected that may benefit from refactoring:*

‚ö†Ô∏è  **Problematic naming**: 133 files/folders
   Examples: 01, 02, 04, 05, 08
üîÑ **Potential duplicates**: 8 files
   'quickmap_foldertree_20250614*': 2 versions
   'quickmap_output_20250614*': 6 versions
üé≠ **Mixed language directories**: 5 folders
   ./: .json, HTML, JavaScript, Markdown, Python, TypeScript
   drone-pipeline/: .json, JavaScript, Markdown
   extension/: .json, .ps1, JavaScript
üì¶ **Deeply nested files**: 164 files (>5 levels)
üìä **File type sprawl**: 9 different extensions
   .md(29), .js(17), .json(16), .tsx(7), .ts(4), .py(2), .html(2), .css(2)

## ‚ö° Quick Stats
- **Files analyzed**: 80 total, 30 parsed for details
- **Functions found**: 192
- **Classes found**: 12
- **Total lines**: 8,074
- **Analysis time**: 3.145s

**Key dependencies**: react(4), fs(3), path(2), argparse(2), collections(2), datetime(2), fnmatch(2), pathlib(2)

## üìÅ Directory Overview
**docs/**: 6 files
**drone-pipeline/**: 14 files (10 parsed), 122 functions, 1 classes
**drone-pipeline\output/**: 18 files
**extension/**: 5 files (2 parsed)
**extension\src/**: 1 files (1 parsed)
**extension\src\components/**: 1 files (1 parsed), 5 functions, 3 classes
**src/**: 4 files (3 parsed), 1 functions, 0 classes
**src\components/**: 1 files (1 parsed), 15 functions, 2 classes
**webapp/**: 6 files (3 parsed)
**webapp\src/**: 3 files (2 parsed), 1 functions, 0 classes
**webapp\src\components/**: 1 files (1 parsed), 3 functions, 0 classes
**(root)**: 20 files (6 parsed), 45 functions, 6 classes

## üîç Code Inventory

### üìÅ docs/
- **blacklist.md**: md file
- **cases.md**: md file
- **input.md**: md file
- **misc.md**: md file
- **output.md**: md file
- **raw.md**: md file

### üìÅ drone-pipeline/
- **batcher.js** [JavaScript]: functions: consolidateBatchesToLimit(), consolidateSegments(), createDroneBatches(), forceMergeBatchesToExactCount(), prepareDroneInputs(), processBandWithDensity(), rescueTinyOrphans(), splitByCharacterLimit(), splitBySizeLimit(), splitOversizedParagraph() (748 lines)
- **cleaner.js** [JavaScript]: functions: cleanAiChatContent() (133 lines)
- **config.js** [JavaScript]: functions: 48 total (326 lines)
      Functions: ABSOLUTE_MIN_VIABLE_DRONE_TOKENS(), AGGREGATOR_CEILING_TOKENS(), CLAUDE_RATE_LIMIT_BACKOFF_MS(), CONSOLE_SPECIAL_CHAR_THRESHOLD_PERCENT(), CONSOLIDATION_SEPARATOR(), DEFAULT_CONSERVATIVE_CONCURRENCY(), DEFAULT_DRONE_OUTPUT_TOKEN_TARGET(), DEFAULT_DRONE_PROMPT(), DEFAULT_RATE_LIMIT_BACKOFF_MS(), DEFAULT_STANDARD_CONCURRENCY(), DRONES_PER_10K_TOKENS(), DRONE_IDEAL_TARGET_TOKENS(), DRONE_INPUT_TOKEN_MAX(), DRONE_INPUT_TOKEN_MIN(), DRONE_TARGET_TOKEN_WINDOW_LOWER_PERCENT(), DRONE_TARGET_TOKEN_WINDOW_UPPER_PERCENT(), EFFECTIVE_COMPRESSION_RATIO(), GEMINI_RATE_LIMIT_BACKOFF_MS(), GPT4_RATE_LIMIT_BACKOFF_MS(), MAX_COMPRESSION_RATIO(), MAX_FINAL_OUTPUT_TOKENS(), MAX_OUTPUT_TOKENS_SAFETY(), MAX_RETRY_ATTEMPTS(), MAX_TOTAL_DRONES(), MINIMUM_OUTPUT_PER_DRONE(), MIN_ORPHAN_TOKEN_THRESHOLD(), MIN_SEGMENT_TARGET_TOKENS(), MODEL_CONFIGS(), ORPHAN_MERGE_SEPARATOR(), PROCESSING_SPEED_BALANCED(), PROCESSING_SPEED_FAST(), QUALITY_MIN_CHAR_COUNT(), QUALITY_MIN_TOKEN_ABSOLUTE(), QUALITY_MIN_TOKEN_PERCENTAGE(), REBALANCE_LOWER_THRESHOLD_PERCENT(), REBALANCE_UPPER_THRESHOLD_PERCENT(), RECENCY_STRENGTH_BALANCED(), RECENCY_STRENGTH_OFF(), RECENCY_STRENGTH_STRONG(), RECENCY_STRENGTH_SUBTLE(), RECENT_CONVERSATION_MIN_TOKENS(), RETRY_BASE_DELAY_MS(), SEGMENT_TEXT_SEPARATOR(), TARGET_CONTEXT_CARD_TOKENS(), calculateDroneOutputTarget(), calculateEstimatedDrones(), calculateOptimalDroneInputSize(), getProcessingSpeedAdjustments()
- **debug-density.js** [JavaScript]: (no classes or functions) (30 lines)
- **drone_payloads.json**: json file
- **drones.js** [JavaScript]: functions: 15 total (991 lines)
      Functions: calculateSessionStats(), classifyError(), createContextCard(), createDroneSystemPrompt(), dispatchDrones(), formatNum(), isCatastrophicFailure(), loadDronePayloads(), parseRateLimitHeaders(), processDroneBatch(), processDronesWithConcurrency(), progressCallback(), runDronesCLI(), saveResults(), sleep()
- **index.js** [JavaScript]: functions: main(), processConversation(), runPreprocessingWithCustomSettings(), showHelp() (463 lines)
      Imports: fs
- **package.json**: json file
- **progressTracker.js** [JavaScript]: classes: ProgressTracker (137 lines)
- **raw.md**: md file
- **server.js** [JavaScript]: functions: PORT(), cancelHandler() (289 lines)
      Imports: cors, express, fs, path
- **spliced_paragraphs.json**: json file
- **splicer.js** [JavaScript]: functions: 23 total (506 lines)
      Functions: BULLET_LIST_PATTERN(), CODE_CHARS_STRING(), CODE_LANGUAGES(), COMMAND_FILE_EXTENSIONS(), COMMAND_KEYWORDS(), CONSOLE_PATTERNS(), CONSOLE_SPECIAL_CHARS_STRING(), CONTINUED_LIST_PATTERN(), EMOJI_CHARS_FOR_LIST_CHECK(), EMOJI_PATTERN_START(), HIERARCHICAL_LIST_PATTERN(), NUMBERED_LIST_PATTERN(), OUTPUT_INDICATORS(), SHELL_LIKE_LANGUAGES(), TIMESTAMP_PATTERN(), UI_ELEMENTS_SET(), mergeCodeLabelsInternal(), mergeConsoleOutputInternal(), mergeSplitCodeBlocksInternal(), mergeSplitListsInternal(), mergeUiElementsInternal(), spliceIntoConceptualParagraphs(), splitIntoParagraphsInternal()
- **utils.js** [JavaScript]: functions: 19 total (548 lines)
      Functions: Anthropic(), MODEL_PROVIDERS(), _generateAnthropicResponse(), _generateGoogleResponse(), _generateOpenAIResponse(), _getAnthropicClient(), _getGoogleClient(), _getOpenAIClient(), _getProviderForModel(), cleanAnthropicIntros(), estimateTokens(), generateResponse(), getAvailableModels(), getAvailableProviders(), getModelInfo(), isProviderAvailable(), testAllProviders(), testCleanup(), testProviderConnection()

### üìÅ drone-pipeline\output/
- **context-card-2025-06-07T02-25-59-272Z.md**: md file
- **context-card-2025-06-07T02-31-00-593Z.md**: md file
- **context-card-2025-06-07T02-32-27-235Z.md**: md file
- **context-card-2025-06-08T07-16-58-822Z.md**: md file
- **context-card-2025-06-08T07-23-35-789Z.md**: md file
- **context-card-2025-06-08T07-30-41-546Z.md**: md file
- **context-card-2025-06-12T16-12-29-351Z.md**: md file
- **context-card-2025-06-12T16-14-44-568Z.md**: md file
- **context-card-2025-06-13T18-35-38-789Z.md**: md file
- **drone-results-2025-06-07T02-25-59-272Z.json**: json file
- **drone-results-2025-06-07T02-31-00-593Z.json**: json file
- **drone-results-2025-06-07T02-32-27-235Z.json**: json file
- **drone-results-2025-06-08T07-16-58-822Z.json**: json file
- **drone-results-2025-06-08T07-23-35-789Z.json**: json file
- **drone-results-2025-06-08T07-30-41-546Z.json**: json file
- **drone-results-2025-06-12T16-12-29-351Z.json**: json file
- **drone-results-2025-06-12T16-14-44-568Z.json**: json file
- **drone-results-2025-06-13T18-35-38-789Z.json**: json file

### üìÅ extension/
- **build-extension.ps1**: ps1 file
- **postcss.config.js** [JavaScript]: (no classes or functions) (6 lines)
- **tailwind.config.js** [JavaScript]: (no classes or functions) (8 lines)
- **tsconfig.app.json**: json file
- **tsconfig.node.json**: json file

### üìÅ extension\src/
- **vite-env.d.ts** [TypeScript]: (no classes or functions) (1 lines)

### üìÅ extension\src\components/
- **ThreadLinkPopup.tsx** [TypeScript]: classes: interface PlatformData, type Platform, type ThreadLinkState | functions: detectCurrentPlatform(), handleCopy(), handleDownload(), handleExtract(), handleReset() (365 lines)

### üìÅ src/
- **App.tsx** [TypeScript]: functions: App() (12 lines)
      Imports: react
- **images.d.ts** [TypeScript]: (no classes or functions) (5 lines)
- **index.css**: css file
- **main.tsx** [TypeScript]: (no classes or functions) (10 lines)
      Imports: react, react-dom

### üìÅ src\components/
- **ThreadLink.tsx** [TypeScript]: classes: interface LoadingProgress, interface Stats | functions: 15 total (1430 lines)
      Functions: API_BASE_URL(), ThreadLink(), calculateConcurrency(), handleCancel(), handleCompressionChange(), handleCondense(), handleCopy(), handleReset(), handleTextChange(), openAPIKeys(), openInfo(), pollProgress(), startProgressPolling(), stopProgressPolling(), toggleSection()

### üìÅ webapp/
- **index.html**: html file
- **package.json**: json file
- **postcss.config.js** [JavaScript]: (no classes or functions) (6 lines)
- **README.md**: md file
- **tailwind.config.js** [JavaScript]: (no classes or functions) (11 lines)
- **vite.config.ts** [TypeScript]: (no classes or functions) (6 lines)
      Imports: @vitejs/plugin-react, vite

### üìÅ webapp\src/
- **App.tsx** [TypeScript]: functions: App() (12 lines)
      Imports: react
- **index.css**: css file
- **main.tsx** [TypeScript]: (no classes or functions) (10 lines)
      Imports: react, react-dom

### üìÅ webapp\src\components/
- **ThreadLink.tsx** [TypeScript]: functions: ThreadLink(), handleTargetChange(), handleTextChange() (81 lines)

### üìÑ Files in (root)
- **enhanced_quickmap.py**: classes: EnhancedStats, EnhancedMapper | functions: 18 total (561 lines)
      Functions: __init__(), add_file(), estimate_tokens(), __init__(), is_blacklisted(), scan_source_files(), identify_target_files(), get_relative_path(), count_lines(), get_file_info(), group_by_directory(), analyze_full(), format_output_full(), analyze_folders(), _build_folder_tree_recursive(), format_output_folders(), analyze(), main()
- **fix.md**: md file
- **index.html**: html file
- **jest.config.js** [JavaScript]: (no classes or functions) (30 lines)
- **MISC.MD**: md file
- **NOTE.MD**: md file
- **package.json**: json file
- **postcss.config.js** [JavaScript]: (no classes or functions) (6 lines)
- **quickmap.py**: classes: MessinessDetector, QuickStats, QuickParser, QuickMapper | functions: 27 total (1322 lines)
      Functions: __init__(), analyze_path(), _get_language_type(), get_summary(), __init__(), add_file(), estimate_tokens(), _extract_names_from_import_str(), _parse_python(), _parse_javascript(), parse_file(), __init__(), is_blacklisted(), _scan_entire_project_for_source_files(), _identify_target_files_for_output(), get_relative_path(), _build_internal_resolution_maps(), _resolve_internal_import(), _build_used_by_map(), analyze_full(), group_by_directory(), format_output_full(), _build_folder_tree_recursive(), analyze_folders(), format_output_folders(), analyze(), main()
- **quickmap_foldertree_20250614_162651.md**: md file
- **quickmap_foldertree_20250614_163753.md**: md file
- **quickmap_output_20250614_162637.md**: md file
- **quickmap_output_20250614_165044.md**: md file
- **quickmap_output_20250614_165128.md**: md file
- **quickmap_output_20250614_165805.md**: md file
- **quickmap_output_20250614_170021.md**: md file
- **quickmap_output_20250614_170322.md**: md file
- **README.md**: md file
- **tailwind.config.js** [JavaScript]: (no classes or functions) (15 lines)
- **vite.config.ts** [TypeScript]: (no classes or functions) (6 lines)
      Imports: @vitejs/plugin-react, vite

---
*QuickMap analysis generated in 3.145s | ~2,744 tokens*